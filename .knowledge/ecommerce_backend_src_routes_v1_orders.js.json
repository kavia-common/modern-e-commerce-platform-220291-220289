{"is_source_file": true, "format": "JavaScript", "description": "This file defines Express.js route handlers for order-related endpoints in the e-commerce backend, including order creation, listing, detail, cancellation, return requests, and admin-specific order management.", "external_files": ["../../middleware/validate", "../../controllers/order", "../../middleware/auth"], "external_methods": ["requireAuth", "requireRole", "orderController.create", "orderController.listMine", "orderController.detail", "orderController.cancel", "orderController.requestReturn", "orderController.adminList", "orderController.adminUpdateStatus"], "published": [], "classes": [], "methods": [{"name": "router.post", "description": "Defines the POST route for creating an order and canceling an order."}, {"name": "router.get", "description": "Defines GET routes for listing orders and fetching order details."}, {"name": "router.post('/:id/cancel')", "description": "Defines the POST route for canceling an order."}, {"name": "router.post('/:id/return')", "description": "Defines the POST route for requesting a return on an order."}, {"name": "router.get('/admin/all/list')", "description": "Defines GET route for admin to list all orders."}, {"name": "router.post('/admin/:id/status')", "description": "Defines POST route for admin to update order status."}], "calls": ["requireAuth", "requireRole", "validate(createSchema)", "orderController.create", "orderController.listMine", "orderController.detail", "orderController.cancel", "orderController.requestReturn", "requireRole(['admin'])", "validate({ body: Joi.object({ status: Joi.string().required() }) })", "orderController.adminList", "orderController.adminUpdateStatus"], "search-terms": ["order routes", "orderController", "adminOrderManagement", "order cancellation", "order return", "admin order list", "order status update"], "state": 2, "file_id": 52, "knowledge_revision": 119, "git_revision": "45a148d3e3b62174d6a6674024a3a2f4cd58829c", "ctags": [{"_type": "tag", "name": "Joi", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const Joi = require('joi');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const createSchema = { body: Joi.object({ method: Joi.string().valid('COD', 'PREPAID').required(/", "language": "JavaScript", "kind": "property", "scope": "createSchema", "scopeKind": "class"}, {"_type": "tag", "name": "createSchema", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const createSchema = { body: Joi.object({ method: Joi.string().valid('COD', 'PREPAID').required(/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "orderController", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const orderController = require('..\\/..\\/controllers\\/order');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/src/routes/v1/orders.js", "pattern": "/^const validate = require('..\\/..\\/middleware\\/validate');$/", "language": "JavaScript", "kind": "constant"}], "hash": "7136f1209766b4a685a13e0302041a8a", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/src/routes/v1/orders.js", "fields": [{"name": "const createSchema = { body: Joi.object({ method: Joi.string().valid('COD', 'PREPAID').required(/", "scope": "createSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"119": "45a148d3e3b62174d6a6674024a3a2f4cd58829c"}]}