{"is_source_file": true, "format": "JavaScript", "description": "This file is a test setup script for initializing an in-memory MongoDB instance, establishing database connections, seeding minimal data for tests, and cleaning up after tests in an e-commerce backend project.", "external_files": ["../src/config/db", "../src/utils/seed", "../src/models/Category", "../src/models/Product"], "external_methods": ["connectDB", "ensureAllIndexes", "Category.create", "Product.create"], "published": [], "classes": [], "methods": [{"name": "beforeAll", "description": "Initializes in-memory MongoDB, sets environment variables, connects to the database, ensures indexes, and seeds initial data before tests run."}, {"name": "afterEach", "description": "Cleans up database collections between test files to prevent index name collisions."}, {"name": "afterAll", "description": "Closes database connection and stops the in-memory MongoDB server after all tests are completed."}], "calls": ["MongoMemoryServer.create", "mongoServer.getUri", "connectDB", "ensureAllIndexes", "Category.create", "Product.create", "mongoose.connection.db.collections", "coll.deleteMany", "mongoose.connection.close", "mongoServer.stop"], "search-terms": ["setup.js", "in-memory MongoDB", "test environment", "seed data", "mongoose", "MongoMemoryServer"], "state": 2, "file_id": 54, "knowledge_revision": 155, "git_revision": "cb29c011002b66f2077130c389715b5850f9a585", "revision_history": [{"124": "45a148d3e3b62174d6a6674024a3a2f4cd58829c"}, {"149": "45a148d3e3b62174d6a6674024a3a2f4cd58829c"}, {"155": "cb29c011002b66f2077130c389715b5850f9a585"}], "ctags": [{"_type": "tag", "name": "Category", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/tests/setup.js", "pattern": "/^const Category = require('..\\/src\\/models\\/Category');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Product", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/tests/setup.js", "pattern": "/^const Product = require('..\\/src\\/models\\/Product');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mongoServer", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/tests/setup.js", "pattern": "/^let mongoServer;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "mongoose", "path": "/home/kavia/workspace/code-generation/modern-e-commerce-platform-220291-220289/ecommerce_backend/tests/setup.js", "pattern": "/^const mongoose = require('mongoose');$/", "language": "JavaScript", "kind": "constant"}], "hash": "01ca4bc8eb5ff37d31e9359d169f1b46", "format-version": 4, "code-base-name": "ecommerce_backend", "filename": "ecommerce_backend/tests/setup.js", "fields": [{"name": "let mongoServer;", "scope": "", "scopeKind": "", "description": "unavailable"}]}